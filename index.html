<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁîüÊàêÈÖçÁΩÆÊñá‰ª∂</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script>
    <!-- <script src="./data.js"></script> -->
    <script>
        let likeNum = "Math.ceil(1000000*Math.random)+1";
        let staySec = "1e2";
        let iCanDoWhateverIWannaDo = true;
        let loadData = function() {
            window.decodeJsonData = function(d) {
                document.getElementById("loading").innerHTML = "";
                let dd = d;// d.data.replace(/&quot;/g, '"').replace(/&apos;/g, "'").replace(/&fyh;/g, "`").replace(/&qquot;/g, "&quot;");
                dd.replace(/dingtalk\.grouplive\.uploadLikesClick\(B,t\.favorCountCache\),t\.favorCountCache=0\)\},1e4/, "dingtalk.grouplike.uploadLikesClick(B,"+likeNum+"),t.favorCountCache=0)},"+staySec)
                if (iCanDoWhateverIWannaDo) {
                    dd.replace(/this\.disableThumbup\?this\.messageBox\(I\.i18next\.t\("pc_grouplive_live_favor_ban_tips"\),\[I\.i18next\.t\("pc_grouplive_i_know"\),""\]\):/, "");
                }
                window.finalData = dd;
                document.getElementById("down").style.display = "block";
                document.getElementById("form").style.display = "block";
            }
            $.ajax({
                type: "GET",
                dataType: "text",
                url: "pc-live-v3.html?t="+Math.random(),
                success: window.decodeJsonData,
                error: function(){console.log("ËØ∑Ê±ÇÂ§±Ë¥•")}
            });
            // window.decodeJsonData(mainmainmain);
        }
        let downloadData = function() {
            let tag = document.createElement("a");
            let blob = new Blob([window.finalData]);
            tag.style = "display:none";
            tag.download = "data.html";
            tag.href = URL.createObjectURL(blob);
            document.getElementsByTagName("body")[0].appendChild(tag);
            tag.click();
            setTimeout(function() {
                document.getElementsByTagName("body")[0].removeChild(tag);
                window.URL.revokeObjectURL(blob);
            }, 100);
        }
        let setOpt = function() {
            likeNum = document.getElementById("likesEachTime").value;
            staySec = document.getElementById("submitTime").value;
        }
    </script>
    <script>window.onload = loadData;</script>
</head>
<body>
    <h1>DingTalk-LiveLikes</h1>
    <div id="loading">Âä†ËΩΩÁªÑ‰ª∂‰∏≠......</div>
    <form id="form" style="display: none;">
        <label for="likesEachTime">ÊØèÊ¨°ÁÇπÂáªÂ¢ûÂä†ÁöÑüëçÊï∞</label><input id="likesEachTime" style="width: 100px;" placeholder="ËØ∑ËæìÂÖ•1-10000000‰πãÈó¥ÁöÑÊï¥ÂçÅÊï∞ÊàñËÄÖJavascript‰ª£Á†Å"><br>
        <label for="submitTime">Êèê‰∫§ÁÇπËµûÊï∞Èó¥ÈöîÊó∂Èó¥</label><input id="submitTime" style="width: 100px;" placeholder="Âçï‰ΩçÊØ´ÁßíÔºåÈªòËÆ§1e4(10000)ÔºåÂª∫ËÆÆ1e2(100)"><br>
        <button onclick="setOpt()">Set</button>
    </form>
    <button id="down" onclick="downloadData()" style="display:none">Download</button>
</body>
</html>